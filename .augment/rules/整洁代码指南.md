---
type: "always_apply"
---

# 整洁代码指南

## 常量优于魔法数字
- 用命名常量替换硬编码值
- 使用描述性的常量名称来解释值的用途
- 将常量保持在文件顶部或专用的常量文件中

## 有意义的命名
- 变量、函数和类应该揭示其目的
- 名称应该解释某物存在的原因以及如何使用
- 避免缩写，除非它们被普遍理解

## 智能注释
- 不要注释代码做什么 - 让代码自文档化
- 使用注释解释为什么以某种方式做某事
- 记录API、复杂算法和非显而易见的副作用

## 单一职责
- 每个函数应该只做一件事
- 函数应该小而专注
- 如果一个函数需要注释来解释它做什么，它应该被拆分

## DRY（不要重复自己）
- 将重复的代码提取到可重用的函数中
- 通过适当的抽象共享通用逻辑
- 维护单一真相来源

## 整洁结构
- 将相关代码保持在一起
- 以逻辑层次结构组织代码
- 使用一致的文件和文件夹命名约定

## 封装
- 隐藏实现细节
- 暴露清晰的接口
- 将嵌套条件移动到命名良好的函数中

## 代码质量维护
- 持续重构
- 尽早修复技术债务
- 让代码比你发现时更整洁

## 测试
- 在修复错误之前编写测试
- 保持测试可读和可维护
- 测试边界情况和错误条件

## 版本控制
- 编写清晰的提交消息
- 进行小而专注的提交
- 使用有意义的分支名称
